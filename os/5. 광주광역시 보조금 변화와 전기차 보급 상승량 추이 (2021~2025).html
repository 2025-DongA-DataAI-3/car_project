<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê´‘ì£¼ê´‘ì—­ì‹œ ë³´ì¡°ê¸ˆ ë³€í™”ì™€ ì „ê¸°ì°¨ ë³´ê¸‰ ìƒìŠ¹ëŸ‰ ì¶”ì´</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- DataLabels -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

  <style>
    .chart-container {
      width: 850px;
      margin: 0 auto;
    }
  </style>
</head>
<body>

<div class="chart-container">
  <canvas id="subsidyEvChart"></canvas>
</div>
<br><br><br><hr><div>ğŸ§  ì¸ì‚¬ì´íŠ¸<br>
ë³´ì¡°ê¸ˆ ê·œëª¨ì™€ ì „ê¸°ì°¨ ë³´ê¸‰ ìƒìŠ¹ëŸ‰ì„ ë¹„êµí•´ë³´ë©´,
ë‘ ì§€í‘œê°€ í•­ìƒ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì´ì§€ëŠ” ì•ŠëŠ”ë‹¤.</div>
<script>
  // Chart.js v4 í•„ìˆ˜
  Chart.register(ChartDataLabels);

  const ctx = document.getElementById('subsidyEvChart');

  new Chart(ctx, {
    data: {
      labels: ['2021', '2022', '2023', '2024', '2025'],
      datasets: [
        {
          type: 'line',
          label: 'ë³´ì¡°ê¸ˆ (ë§Œì›)',
          data: [1213, 1948, 2023, 1760, 3122],
          yAxisID: 'y',
          borderColor: '#2563eb',
          backgroundColor: '#2563eb',
          borderWidth: 3,
          tension: 0.3,
          pointRadius: 4
        },
        {
          type: 'bar',
          label: 'ì „ê¸°ì°¨ ë³´ê¸‰ ìƒìŠ¹ëŸ‰ (ëŒ€)',
          data: [2413, 3515, 4192, 2735, 4042],
          yAxisID: 'y1',
          backgroundColor: '#7abfff'
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'top'
        },
        title: {
          display: true,
          text: 'ê´‘ì£¼ê´‘ì—­ì‹œ ë³´ì¡°ê¸ˆ ë³€í™”ì™€ ì „ê¸°ì°¨ ë³´ê¸‰ ìƒìŠ¹ëŸ‰ ì¶”ì´ (2021~2025)'
        },
        datalabels: {
          formatter: (value, context) => {
            return context.dataset.label.includes('ë³´ì¡°ê¸ˆ')
              ? value + 'ë§Œì›'
              : value + 'ëŒ€';
          },
          anchor: 'end',
          align: 'top',
          font: {
            size: 11,
            weight: 'bold'
          }
        }
      },
      scales: {
        x: {
          title: {
            display: true,
            text: 'ì—°ë„'
          }
        },
        y: {
          position: 'left',
          title: {
            display: true,
            text: 'ë³´ì¡°ê¸ˆ (ë§Œì›)'
          }
        },
        y1: {
          position: 'right',
          grid: {
            drawOnChartArea: false
          },
          title: {
            display: true,
            text: 'ì „ê¸°ì°¨ ë³´ê¸‰ ìƒìŠ¹ëŸ‰ (ëŒ€)'
          }
        }
      }
    }
  });
</script>

</body>
</html>
