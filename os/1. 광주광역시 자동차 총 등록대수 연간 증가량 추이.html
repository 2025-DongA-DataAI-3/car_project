<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê´‘ì£¼ê´‘ì—­ì‹œ ìë™ì°¨ ë“±ë¡ ì¦ê°€ëŸ‰ ë¶„ì„</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <style>
    body { 
      font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif; 
      background-color: #f9fafb; 
      padding: 40px; 
      color: #1f2937; 
    }
    .chart-wrapper { 
      max-width: 900px; 
      margin: 0 auto; 
      background: #ffffff; 
      padding: 30px; 
      border-radius: 16px; 
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); 
    }
    h2 { 
      text-align: center; 
      font-size: 26px; 
      font-weight: 800; 
      color: #111827; 
      margin-bottom: 30px; 
      letter-spacing: -0.5px; 
    }
    .chart-container { 
      position: relative; 
      height: 420px; 
      width: 100%; 
    }
    .custom-legend { 
      display: flex; 
      justify-content: center; 
      gap: 24px; 
      margin-top: 25px; 
      font-size: 14px; 
      font-weight: 600; 
    }
    .legend-item { display: flex; align-items: center; gap: 8px; }
    .legend-box { width: 14px; height: 14px; border-radius: 3px; }
    .bg-blue { background-color: #3b82f6; }
    .bg-red { background-color: #ef4444; }

    /* ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ ë””ìì¸ */
    .insight-box {
      max-width: 900px;
      margin: 30px auto 0;
      padding: 25px;
      background: linear-gradient(135deg, #eff6ff 0%, #fef2f2 100%);
      border-left: 6px solid #ef4444;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .insight-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 19px;
      font-weight: bold;
      color: #991b1b;
      margin-bottom: 12px;
    }
    .insight-content {
      font-size: 16px;
      line-height: 1.8;
      color: #7f1d1d;
      word-break: keep-all;
    }
  </style>
</head>
<body>

<div class="chart-wrapper">
  <h2>ê´‘ì£¼ ìë™ì°¨ ì´ ë“±ë¡ëŒ€ìˆ˜ ì „ë…„ë„ ëŒ€ë¹„ ì¦ê°€ëŸ‰ (2021â€“2025)</h2>
  
  <div class="chart-container">
    <canvas id="carIncreaseChart"></canvas>
  </div>

  <div class="custom-legend">
    <div class="legend-item"><div class="legend-box bg-blue"></div><span>ìë™ì°¨ ë“±ë¡ ì¦ê°€</span></div>
    <div class="legend-item"><div class="legend-box bg-red"></div><span>ìë™ì°¨ ë“±ë¡ ê°ì†Œ</span></div>
  </div>
</div>

<div class="insight-box">
  <div class="insight-title">ğŸ’¡ ë°ì´í„° ë¶„ì„ ê²°ê³¼</div>
  <div class="insight-content">
    ê´‘ì£¼ê´‘ì—­ì‹œì˜ ìë™ì°¨ ë“±ë¡ íŠ¸ë Œë“œì— <strong>ì¤‘ëŒ€í•œ ë³€ê³¡ì </strong>ì´ í¬ì°©ë˜ì—ˆìŠµë‹ˆë‹¤. <br>
    ì§€ë‚œ 4ë…„ê°„ ê¾¸ì¤€í•œ ì¦ê°€ì„¸ë¥¼ ìœ ì§€í•´ ì™”ìœ¼ë‚˜, <strong>2025ë…„ ì²˜ìŒìœ¼ë¡œ ì´ ë“±ë¡ëŒ€ìˆ˜ê°€ ê°ì†Œ(-500ëŒ€)</strong>í•˜ë©° ë§ˆì´ë„ˆìŠ¤ ì„±ì¥ì„ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¸êµ¬ êµ¬ì¡° ë³€í™”ì™€ ê³µìœ  ê²½ì œ í™•ì‚° ë“± ëª¨ë¹Œë¦¬í‹° íŒ¨ëŸ¬ë‹¤ì„ì´ ë³€í™”í•˜ê³  ìˆìŒì„ ì‹œì‚¬í•©ë‹ˆë‹¤.
  </div>
</div>

<script>
  window.onload = function() {
    Chart.register(ChartDataLabels);
    const ctx = document.getElementById('carIncreaseChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['2021', '2022', '2023', '2024', '2025'],
        datasets: [{
          data: [9043, 13618, 8855, 7495, -500],
          backgroundColor: ['#3b82f6', '#3b82f6', '#3b82f6', '#3b82f6', '#ef4444'],
          borderRadius: 8,
          barPercentage: 0.6
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        layout: { padding: { top: 40 } }, // 2022ë…„ ìˆ˜ì¹˜ê°€ ì²œì¥ì— ë‹¿ì§€ ì•Šë„ë¡ ìƒë‹¨ ì—¬ë°± í™•ëŒ€
        plugins: {
          legend: { display: false },
          datalabels: {
            anchor: (ctx) => ctx.dataset.data[ctx.dataIndex] < 0 ? 'start' : 'end',
            align: (ctx) => ctx.dataset.data[ctx.dataIndex] < 0 ? 'bottom' : 'top',
            offset: 8,
            formatter: v => v.toLocaleString() + 'ëŒ€',
            font: { size: 13, weight: 'bold' },
            color: ctx => ctx.raw < 0 ? '#ef4444' : '#1f2937'
          }
        },
        scales: {
          y: { 
            suggestedMax: 15500, // ìµœëŒ€ê°’ì„ ë„‰ë„‰í•˜ê²Œ ì„¤ì •í•´ì„œ ê¸€ì”¨ ë…¸ì¶œ ë³´ì¥
            ticks: { callback: v => v.toLocaleString() } 
          },
          x: { grid: { display: false } }
        }
      }
    });
  };
</script>

</body>
</html>